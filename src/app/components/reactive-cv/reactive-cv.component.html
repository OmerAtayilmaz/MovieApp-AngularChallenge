<div class="container">
  <div class="row">
    <form [formGroup]="cvForm">
      <div class="form-group">
        <label>Name</label>
        <input formControlName="name" type="text"
        [class.hatali]="cvForm.get('name')?.valid &&
        cvForm.get('name')?.touched"
        />
        <small *ngIf="name?.errors?.forbiddenName">Admin keyword cannot be used for names</small>
      </div>
      <div class="form-group">
        <label>Title</label>
        <input formControlName="title" type="text"/>
      </div>
      <div class="form-group">
        <label>About</label>
        <input formControlName="about" type="text"/>
      </div>
      <div class="form-group emails-pane">
        <label>Email</label>
        <button type="button" (click)="addAlternativeEmail()">Add Email</button>
        <input formControlName="email" type="email"/>
        <div formArrayName="alternativeEmails" *ngFor="let email of alternativeEmails.controls; let i=index">
          <input type="text" [formControlName]="i"  />
        </div>
      </div>
      <button (click)="onSubmit()" class="submit" type="submit">Register</button>
      <button (click)="loadData()" class="submit" >Load API</button>
    </form>
  </div>
  <div class="row right">
    <div class="page">
      <div class="item-name">
        <h1>{{name?.value}}</h1>
      </div>
      <div class="item-title">
        <small>{{title?.value}}</small>
      </div>
      <div class="item-about">
        <p>{{about?.value}}</p>
      </div>
      <div class="item-emails">
        <small>{{email?.value}}</small>
        <small  *ngFor="let email of cvForm.value.alternativeEmails">
          {{email}}
        </small>
      </div>
      <div class="item-skills">
        <small class="skill">HTML</small>
        <small class="skill">CSS</small>
        <small class="skill">JS</small>
        <small class="skill">TS</small>
      </div>
    </div>
  </div>
</div>


